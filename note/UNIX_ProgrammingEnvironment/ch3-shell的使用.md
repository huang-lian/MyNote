# Shell 的使用

## 命令行结构

- 最简单的命令就是一个词(world),通常是一个可执行文件名
- 一条命令通常以换行符号结束，有时有分号`;`结束。但通常只有在键入回车后才可以开始执行命令。
- 括号可以用来组合命令`(date;who)`
- `&`也是一个命令结束符，ta告诉shell不必等待命令结束。通常，`&`将一个需要长时间运行的命令放到后台，用户可以在此期间和shell继续交互。
- 由shell解释的各种特殊字符，如`&、<、>、|`不能用作在shell中程序的参数。相反，它们指示了shell运行这些程序的方式。

### 本节相关命令

1. `tee`命令可以截取管道数据流并放到某个文件中，作用之一就是将中间结果保留在某个文件中。
2. `sleep`命令用来等待一段时间。
3. `pr`命令按照打印机显示文档。

## 元字符

- 即shell中有特殊用途的字符
- 如果希望原样使用元字符，可以如下使用
  - 使用单引号包括起来
  - 在每个元字符前使用转义符号`\`反斜杠。
  - 也可以使用双引号，但其中的`$,`...``,以及 `\` 会生效

### shell中的几个元字符



## 创建新命令

- 即将已有的命令序列组织起来，放到脚本中，并添加到查找路径`$PATH`中
- 如果不想每次都登录时手动设置`$PATH` 那么应该在.profile中设置。



## 命令参数

提供命令运行时需要的参数，比如命令选项和文件名

- `$n`表示第n个参数。其中`$0`是命令本身程序名
- `$*`表示全部参数。
- `"$*"`中$*会被参数替代且作为一个参数传递给目标程序。
- `grep -y`使得`grep`步区分大小写。

## 程序输出作为参数

- 任何程序的输出都可以放入命令行，只需要使用反引号将命令行括起来

`pick`程序每次回送一个参数，并且在每个参数后等待响应，输出是响应为y的参数。// linux 中不存在

## Shell变量

- shell的内部命令`set`可以显示定义的所有变量值

- `echo $arg`可以显示变量`$arg`值

- 一个变量的值和创建它的shell有关，且不会自动传递给子shell

- - 所以一个shell文件不能修改变量值，因为shell文件是由子shell运行的

- 使用`.`执行一个命令，相当于shell标准输入定向到了该文件。

- 在子shell里设置变量的一个方法是在命令行的命令前显式给它赋值。（p65）。

- `export`可以继承父shell的变更值，（不能改变父shell变量值。

## 进一步讨论I/O重定向

默认情况下，每个程序启动总是要建立三个文件。分别用名为"文件描述符"的小整数表示。标准输入输出分别用0和1表示。2表示表示标准错误输出。m>n将m流合并到n流。

- shell提供了将命令的标准输入和命令放在一起（here document). 在文件命令行末尾使用`>>tags`表明信息从文件输入，知道出现终止词tags为止

here docment 实例



## Shell里面的循环

即for i in [file_lists];do [command];done

## bundle合并

## 为什么说shell是可编程的
